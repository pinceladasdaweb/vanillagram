/*! vanillagram v0.0.2 | (c) 2016 Pedro RogÃ©rio | https://github.com/pinceladasdaweb/vanillagram */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.VanillaGram=e()}(this,function(){"use strict";var t={greyscale:[.33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0],subtle:[1,0,0,0,40,0,1,0,0,40,0,0,1,0,40,0,0,0,1,0],luxen:[.9,.2,0,0,60,0,.8,.1,0,60,0,0,.8,0,70,0,0,0,1,0],drama:[1.1,.2,0,0,-20,0,1,.2,0,-10,.1,0,1,0,-10,0,0,0,1,0],vintage:[.55,.4,0,0,20,.1,.5,.5,0,20,0,.5,.4,.1,20,0,0,0,1,0],beach:[1.1,0,0,0,20,0,.8,.5,0,20,.1,0,.8,.2,20,0,0,0,1,0],fade:[1,0,0,0,20,0,1,0,0,20,0,0,1,0,20,0,0,0,.8,0]},e=function(t,i){var a=!!document.createElement("canvas").getContext;return this&&this instanceof e?void(a&&t&&i&&(this.element=t instanceof NodeList?t:document.querySelectorAll(t),this.options=i,this.ready())):new e(t,i)};return e.prototype={radialGradient:function(t){var e=t.createRadialGradient(200,150,100,200,150,400);return e.addColorStop(0,"transparent"),e.addColorStop(1,"rgba(0,0,0,1)"),e},shadowGradient:function(t,e){var i=t.createLinearGradient(e,0,0,0);return i.addColorStop(0,"rgba(0, 0, 0, 0.6)"),i.addColorStop(.5,"transparent"),i.addColorStop(1,"rgba(0, 0, 0, 0.6)"),i},lightGradient1:function(t,e,i){var a=t.createLinearGradient(i,e,0,0);return a.addColorStop(0,"rgba(255, 255, 255, 0.9)"),a.addColorStop(.5,"transparent"),a.addColorStop(1,"rgba(138, 243, 255, 0.5)"),a},lightGradient2:function(t,e,i){var a=t.createLinearGradient(5,i,e,50);return a.addColorStop(0,"rgba(250, 37, 193, 0.1)"),a.addColorStop(.5,"transparent"),a.addColorStop(1,"rgba(37, 250, 211, 0.2)"),a},lightGradient3:function(t,e,i){var a=t.createLinearGradient(e+10,i,0,i);return a.addColorStop(0,"rgba(255,255,71,0.2)"),a.addColorStop(.5,"transparent"),a.addColorStop(.85,"rgba(255,255,255,0.2)"),a.addColorStop(1,"transparent"),a},matrixFilter:function(t,e,i){var a,r,n,o,l,s;for(a=0,r=t.length;r>a;a+=4)n=t[a],o=t[a+1],l=t[a+2],s=t[a+3],t[a]=n*i[0]+o*i[1]+l*i[2]+s*i[3]+i[4],t[a+1]=n*i[5]+o*i[6]+l*i[7]+s*i[8]+i[9],t[a+2]=n*i[10]+o*i[11]+l*i[12]+s*i[13]+i[14],t[a+3]=n*i[15]+o*i[16]+l*i[17]+s*i[18]+i[19]},oldFilter:function(t){var e,i;for(e=0,i=t.length;i>e;e+=4)t[e]=t[e]+40,t[e+1]=t[e+1]+20,t[e+2]=2*t[e+2]},each:function(t,e){var i,a;for(i=0,a=t.length;a>i;i+=1)e(t[i],i,t)},createCanvas:function(t){var e=document.createElement("canvas");return e.width=t.clientWidth,e.height=t.clientHeight,e},ready:function(){var e,i,a,r,n,o,l;this.each(this.element,function(s,d){s.complete&&(e=s.clientWidth,i=s.clientHeight,a=this.createCanvas(s),r=a.getContext("2d"),r.drawImage(s,0,0,e,i),n=r.getImageData(0,0,e,i),o=n.data,"greyscale"===this.options.filter?this.matrixFilter(o,n,t.greyscale):"oldtimey"===this.options.filter?this.oldFilter(o):"beach"===this.options.filter?this.matrixFilter(o,n,t.beach):"luxen"===this.options.filter?this.matrixFilter(o,n,t.luxen):"subtle"===this.options.filter?this.matrixFilter(o,n,t.subtle):"olive"===this.options.filter?this.matrixFilter(o,n,t.drama):"vintage"===this.options.filter?this.matrixFilter(o,n,t.vintage):"fade"===this.options.filter&&this.matrixFilter(o,n,t.fade),r.putImageData(n,0,0),"vignette"===this.options.shadow?(r.fillStyle=this.radialGradient(r),r.fillRect(0,0,e,i)):"drama"===this.options.shadow?(r.fillStyle=this.shadowGradient(r,e),r.fillRect(0,0,e,i)):"lightleak1"===this.options.lightleak?(r.fillStyle=this.lightGradient1(r,e,i),r.fillRect(0,0,e,i)):"lightleak2"===this.options.lightleak?(r.fillStyle=this.lightGradient2(r,e,i),r.fillRect(0,0,e,i)):"lightleak3"===this.options.lightleak&&(r.fillStyle=this.lightGradient3(r,e,i),r.fillRect(0,0,e,i)),l=a.toDataURL(),s.setAttribute("src",l))}.bind(this))}},e});